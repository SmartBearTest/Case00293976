<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="50e1c12e-e693-47db-be78-00e4df59b928" discardOkResults="false" failOnError="false" failTestCaseOnErrors="false" keepSession="false" name="CustomerDesiredDlvyDateTestCase" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="50e1c12e-e693-47db-be78-00e4df59b928fileName">CustomerDesiredDlvyDateTestCase</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="restrequest" name="Authentication" id="93b27b6a-1a91-4094-8270-7a525ae0b436"><con:settings/><con:config service="REST Service 5" resourcePath="/webapps/security-spa/api/security/authenticate" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Authentication" id="eb90dad0-674b-44b3-bf33-7a9456c529b9" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://javatest.test.com:4035</con:endpoint><con:request>username=test\dccBatch&amp;password=test</con:request><con:originalUri>https://javatest.test.com/webapps/security-spa/api/security/authenticate</con:originalUri><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:environmentSpec><con:entry environmentId="83e4deb1-38b8-4fd5-9177-2b5359a53f9f"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="datasource" name="SpreadSheet" id="4c6edb49-cbfc-4426-92b4-78d0d7dd4c18"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>${#Project#SpreadSheetPath}</file><worksheet>Main</worksheet><cell>A4</cell><ignoreEmpty>false</ignoreEmpty><evaluateFormulas>false</evaluateFormulas></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>PRO</con:property><con:property>Status</con:property><con:property>PU Date</con:property><con:property>Type</con:property><con:property>Origin</con:property><con:property>Trailer Scac</con:property><con:property>Trailer</con:property><con:property>Shipper- Name</con:property><con:property>Shipper- Str#</con:property><con:property>Shipper- Phone #</con:property><con:property>Shipper- Number</con:property><con:property>Shipper- Dir1</con:property><con:property>Shipper- Street</con:property><con:property>Shipper- Suf</con:property><con:property>Shipper- Dir2</con:property><con:property>Shipper- Unit</con:property><con:property>Shipper- Type</con:property><con:property>Shipper- City</con:property><con:property>Shipper- State</con:property><con:property>Shipper- Zip</con:property><con:property>Consignee- Name</con:property><con:property>Consignee- Str#</con:property><con:property>Consignee- Phone #</con:property><con:property>Consignee- C/O</con:property><con:property>Consignee- Show</con:property><con:property>Consignee- Booth#</con:property><con:property>Consignee- Number</con:property><con:property>Consignee- Dir1</con:property><con:property>Consignee- Street</con:property><con:property>Consignee- Suf</con:property><con:property>Consignee- Dir2</con:property><con:property>Consignee- Unit</con:property><con:property>Consignee- Type</con:property><con:property>Consignee- City</con:property><con:property>Consignee- State</con:property><con:property>Consignee- Zip</con:property><con:property>Terms</con:property><con:property>GSV</con:property><con:property>NTFY</con:property><con:property>HOMD</con:property><con:property>LFTD</con:property><con:property>ID</con:property><con:property>FAF</con:property><con:property>INTR</con:property><con:property>CBL</con:property><con:property>GBL</con:property><con:property>BOND</con:property><con:property>SIGN</con:property><con:property>QUOTEID</con:property><con:property>PROMO</con:property><con:property>ITEM#</con:property><con:property>G/D</con:property><con:property>REF1 #</con:property><con:property>Ref1 Type</con:property><con:property>Ref2 #</con:property><con:property>Ref2 Type</con:property><con:property>Third Party- Name</con:property><con:property>Third Party- C/O</con:property><con:property>Third Party- Role</con:property><con:property>Third Party- Number</con:property><con:property>Third Party- Dir1</con:property><con:property>Third Party- Street</con:property><con:property>Third Party- Suf</con:property><con:property>Third Party- Dir2</con:property><con:property>Third Party- Unit</con:property><con:property>Third Party- Type</con:property><con:property>Third Party- Store</con:property><con:property>Third Party- City</con:property><con:property>Third Party- State</con:property><con:property>Third Party- Zip</con:property><con:property>NITE</con:property><con:property>FOOD</con:property><con:property>H/U1</con:property><con:property>PKG1</con:property><con:property>WGT1</con:property><con:property>PCS1</con:property><con:property>UOM1</con:property><con:property>CL1</con:property><con:property>NMFC1</con:property><con:property>SUB1</con:property><con:property>CFT1</con:property><con:property>DENS1</con:property><con:property>DESCR1A</con:property><con:property>DESCR1B</con:property><con:property>H/U2</con:property><con:property>PKG2</con:property><con:property>WGT2</con:property><con:property>PCS2</con:property><con:property>UOM2</con:property><con:property>CL2</con:property><con:property>NMFC2</con:property><con:property>SUB2</con:property><con:property>CFT2</con:property><con:property>DENS2</con:property><con:property>DESCR2A</con:property><con:property>DESCR2B</con:property><con:property>H/U3</con:property><con:property>PKG3</con:property><con:property>WGT3</con:property><con:property>PCS3</con:property><con:property>UOM3</con:property><con:property>CL3</con:property><con:property>NMFC3</con:property><con:property>SUB3</con:property><con:property>CFT3</con:property><con:property>DENS3</con:property><con:property>DESCR3A</con:property><con:property>DESCR3B</con:property><con:property>STC/SLC</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="jdbc" name="CustomerDeliveryDateBDD" id="aa63d93e-9b88-407b-b182-88d51080e5e4"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName>BDD</con:dbConnectionName><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://Ywsqltest\ads;databaseName=OPS_SA;integratedSecurity= true</con:connectionString><con:password/><con:connectionProperties/><con:query>	select s.PRO_NB ,s.Shipment_Key,s.WGP_Record_Key, format(s.Customer_Desired_From_Dlvy_TS,'yyyy-MM-dd HH:mm:ss') as Customer_Desired_From_Dlvy_TS, format(s.Customer_Desired_To_Dlvy_TS,'yyyy-MM-dd HH:mm:ss') as Customer_Desired_To_Dlvy_TS,s.Shipment_Due_DT  from SHIP. Shipment s
where s.PRO_NB = '7388151615'

--68317258119, 5254074070
</con:query><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="CustomerDeliveryDateLegacyDB" id="54555973-29c4-43ed-8654-f7b1c5c895ca"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName>Legacy</con:dbConnectionName><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://Ywsqltest\Legacy;databaseName=Legacy_SA;integratedSecurity= true</con:connectionString><con:password/><con:connectionProperties/><con:query>select wgapt.[WGP_ID_NBR], wgapt.RECORD_KEY ,
format ([dbo].[ConvertimeToUTC]([dbo].[FormatDate](CONCAT (WGP_DSRD_DL_DT_START, LEFT(CONCAT(wgapt.[WGP_DSRD_DL_DT_START_LOCAL],'0000000000'), 9))), (Select PLC_TIME_ZN  from Legacy.m204_Xorz where orz_rfrnc_cd=wgapt.WGP_PLANNED_DEST_ORZ_TAG)),'yyyy-MM-dd HH:mm:ss')  as Cust_Delivery_Start_TS ,
format ([dbo].[ConvertimeToUTC]( [dbo].[FormatDate](CONCAT (WGP_DSRD_DL_DT_LOCAL, LEFT(CONCAT(wgaptr.[WGP_DSRD_DL_TIME_LOCAL],'0000000000'),9))), (Select PLC_TIME_ZN  from Legacy.m204_Xorz where orz_rfrnc_cd=wgapt.WGP_PLANNED_DEST_ORZ_TAG)),'yyyy-MM-dd HH:mm:ss')  as Cust_Delivery_End_TS 
from Legacy.M204_WGP_REOCCUR wgaptr
left outer join [Legacy].[M204_WGP] wgapt on( wgapt.[RECORD_KEY] = wgaptr.[WGP_RECORD_KEY])
--left outer join [Legacy].[M204_WGP] w on (w.[WGP_TAG]= wgapt.WGP_TAG) 
left outer join [Legacy].[M204_XORZ] r on (wgapt.[RECORD_KEY]= r.[RECORD_KEY]) --and r.orz_rfrnc_cd=WGP_PLANNED_DEST_ORZ_TAG
where wgapt.WGP_ID_NBR ='7388151615'</con:query><con:assertion type="GroovyScriptAssertion" id="19082f1e-d35d-4522-8307-09207b17b0c4" name="Script Assertion"><con:configuration><scriptText>def BDDCustDeliveryFromDate = context.expand( '${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUSTOMER_DESIRED_FROM_DLVY_TS[1]}' )

def BDDCustDeliveryEndDate = context.expand( '${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUSTOMER_DESIRED_TO_DLVY_TS[1]}' )

if(BDDCustDeliveryFromDate == null || BDDCustDeliveryFromDate == '' || BDDCustDeliveryFromDate == '&lt;CUSTOMER_DESIRED_FROM_DLVY_TS/>')
BDDCustDeliveryFromDate = 'empty'

if(BDDCustDeliveryEndDate == null || BDDCustDeliveryEndDate == '' || BDDCustDeliveryEndDate == '&lt;CUSTOMER_DESIRED_FROM_DLVY_TS/>')
BDDCustDeliveryEndDate = 'empty'

def LegacyCustDeliveryFromDate = context.expand( '${CustomerDeliveryDateLegacyDB#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUST_DELIVERY_START_TS[1]}' )
def LegacyCustDeliveryEndDate = context.expand( '${CustomerDeliveryDateLegacyDB#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUST_DELIVERY_END_TS[1]}' )


if(LegacyCustDeliveryFromDate == null || LegacyCustDeliveryFromDate == '' || LegacyCustDeliveryFromDate == '&lt;CUST_DELIVERY_START_TS/>')
LegacyCustDeliveryFromDate = 'empty'

if(LegacyCustDeliveryEndDate == null || LegacyCustDeliveryEndDate == '' || LegacyCustDeliveryEndDate == '&lt;CUST_DELIVERY_END_TS/>')
LegacyCustDeliveryEndDate = 'empty'

assert LegacyCustDeliveryFromDate == BDDCustDeliveryFromDate

assert LegacyCustDeliveryEndDate==BDDCustDeliveryEndDate


</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="request" name="MIDAF-CustomerDeliveryDate" id="7965d37c-e11e-4c64-b906-7d8c42cb4735"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>wsdl_getPackageInfo_Binder</con:interface><con:operation>MIDAF</con:operation><con:request name="MIDAF-CustomerDeliveryDate" id="b3a5b619-f30e-4a89-a2da-70ddf4bb6b7f"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://satest-trust.ago.test.com/ida900?prmUser=CRMUSER</con:endpoint><con:request><![CDATA[<dataInput>
   <hdr>
      <programId>IDA200.XML</programId>
      <Form>1</Form>
      <fgInd>g</fgInd>
      <file>WGP</file>
      <action>retrieval</action>
      <subAction>none</subAction>
   </hdr>
   <selection>
      <field>
         <name>RECORD.KEY</name>
         <value>${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/WGP_RECORD_KEY[1]}</value>
         <operator>EQ</operator>
      </field>
   </selection>
</dataInput>]]></con:request><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/><con:environmentSpec><con:entry environmentId="83e4deb1-38b8-4fd5-9177-2b5359a53f9f"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:request></con:config></con:testStep><con:testStep type="jdbc" name="MIDAF-UTCConversion" id="45276b0f-130e-4213-a82e-abff48a6e182"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName>Legacy</con:dbConnectionName><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://Ywsqltest\Legacy;databaseName=Legacy_SA;integratedSecurity= true</con:connectionString><con:password/><con:connectionProperties/><con:query>--select ([dbo].[ConvertimeToUTC]([dbo].[FormatDate](CONCAT (${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DL.APT},LEFT(CONCAT(${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.APT.TIME[1]}'0000000000'), 9))), (Select PLC_TIME_ZN  from Legacy.m204_Xorz where orz_rfrnc_cd= '${ORGTAG#Response#//dataOutput[1]/record[1]/WGP.PLANNED.DEST.ORZ.TAG[1]}')) ) as midafstart

--select ([dbo].[ConvertimeToUTC]([dbo].[FormatDate](CONCAT (${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DL.APT}, LEFT(CONCAT(${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.APT.TIME2[1]},'0000000000'), 9))), (Select PLC_TIME_ZN  from Legacy.m204_Xorz where orz_rfrnc_cd= '${ORGTAG#Response#//dataOutput[1]/record[1]/WGP.PLANNED.DEST.ORZ.TAG[1]}')) ) as midafenddate
--${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.TIME.LOCAL[1]}${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DL.APT.TIME2[1]}

--${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.TIME.LOCAL[2]}LEFT(CONCAT(${MIDAF-ApptDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.TIME.LOCAL[2]}
select format ([dbo].[ConvertimeToUTC]([dbo].[FormatDate](CONCAT (${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.DT}, LEFT(CONCAT(${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.TIME.LOCAL[1]},'0000000000'), 9))), (Select PLC_TIME_ZN  from Legacy.m204_Xorz where orz_rfrnc_cd= '${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.PLANNED.DEST.ORZ.TAG[1]}')),'yyyy-MM-dd HH:mm:ss') as midafcustStart
select format ([dbo].[ConvertimeToUTC]([dbo].[FormatDate](CONCAT (${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.DT}, LEFT(CONCAT(${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.TIME},'0000000000'), 9))), (Select PLC_TIME_ZN  from Legacy.m204_Xorz where orz_rfrnc_cd= '${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.PLANNED.DEST.ORZ.TAG[1]}')),'yyyy-MM-dd HH:mm:ss') as midafcustend



</con:query><con:assertion type="MessageContentAssertion" id="d94d9d63-5a41-4bc2-8902-15d858e5c096" name="Message Content Assertion"><con:configuration xsi:type="con:MessageContentAssertion"><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/MIDAFCUSTSTART[1]</con:xpath><con:element>MIDAFCUSTSTART</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>${CustomerDeliveryDateLegacyDB#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUST_DELIVERY_START_TS[1]}</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>//Results[1]/ResultSet[2]/Row[1]/MIDAFCUSTEND[1]</con:xpath><con:element>MIDAFCUSTEND</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUSTOMER_DESIRED_TO_DLVY_TS[1]}</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<Results>
   <ResultSet fetchSize="128">
      <Row rowNumber="1">
         <MIDAFCUSTSTART>2017-12-11 23:00:00</MIDAFCUSTSTART>
      </Row>
   </ResultSet>
   <ResultSet fetchSize="128">
      <Row rowNumber="1">
         <MIDAFCUSTEND>2017-12-12 00:00:00</MIDAFCUSTEND>
      </Row>
   </ResultSet>
</Results>]]></con:originalMessage></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="datasource" name="DataSource" id="e2647a03-5878-4581-ba77-eb9ca526a1b6" disabled="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="dt" value="${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.DT[1]}"/>
  &lt;con:entry key="tm" value="${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/WGP.DSRD.DL.TIME[1]}"/>
&lt;/xml-fragment></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="JDBC"><con:configuration><driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver><connstr>jdbc:sqlserver://Ywsqlltest\Legacy;databaseName=Legacy_SA;integratedSecurity= true</connstr><pass/><Connection>Legacy( Sit )</Connection><query>select [dbo].[FormatDate](CONCAT (:dt, LEFT(CONCAT(:tm,'00000000000'),9)))
as cd
</query><fetchSize/><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>cd</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="restrequest" name="Quintiq-CustDlvy" id="1139646b-1415-4998-b922-d41cef4533bd"><con:settings/><con:config service="REST Service 6" resourcePath="/webapps/citypd-spa/api/v1/shipment" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Quintiq-CustDlvy" id="bea16df4-5907-422a-b2a7-edbfed68a3c6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-authorization" value="YRC ${Authentication#HarResponse#$['content']['text']}" xmlns="http://eviware.com/soapui/config"/></con:setting><con:setting id="com.eviware.soapui.settings.CommonSettings@entitizeProperties">false</con:setting><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@strip-whitespaces">true</con:setting></con:settings><con:endpoint>https://spasita.test.com</con:endpoint><con:request/><con:originalUri>https://spasita.test.com/webapps/citypd-spa/api/v1/shipment</con:originalUri><con:assertion type="MessageContentAssertion" id="2727b4df-4e01-4f46-ab99-30b5f5acd2c0" name="Message Content Assertion"><con:configuration xsi:type="con:MessageContentAssertion"><con:elements><con:xpath>declare namespace ns1='https://spasita.test.com/webapps/citypd-spa/api/v1/shipment';
//ns1:Response[1]/ns1:specialServiceDeliveryWindowStart[1]</con:xpath><con:element>specialServiceDeliveryWindowStart</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>${MIDAF-UTCConversion#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/MIDAFCUSTSTART[1]}</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:elements><con:xpath>declare namespace ns1='https://spasita.test.com/webapps/citypd-spa/api/v1/shipment';
//ns1:Response[1]/ns1:specialServiceDeliveryWindowEnd[1]</con:xpath><con:element>specialServiceDeliveryWindowEnd</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>${MIDAF-UTCConversion#ResponseAsXml#//Results[1]/ResultSet[2]/Row[1]/MIDAFCUSTEND[1]}</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<Response xmlns="https://spasita.test.com/webapps/citypd-spa/api/v1/shipment">
   <collectIndicator>N</collectIndicator>
   <currentTerminal>881</currentTerminal>
   <currentTrailer>136582</currentTrailer>
   <scac>RDWY</scac>
   <customerCode>0895</customerCode>
   <deliveryNotes null="true"/>
   <deliveryZoneCode>1</deliveryZoneCode>
   <destinationTerminal>532</destinationTerminal>
   <dockDoorAssignment null="true"/>
   <exclusiveUserOrSealDividerIndicator>N</exclusiveUserOrSealDividerIndicator>
   <foodIndicator>N</foodIndicator>
   <freezableIndicator>N</freezableIndicator>
   <hazmatIndicator>N</hazmatIndicator>
   <inbondIndicator>N</inbondIndicator>
   <liftgateRequiredIndicator>N</liftgateRequiredIndicator>
   <numberOfHandlingUnits>1</numberOfHandlingUnits>
   <numberOfPallets>1.30</numberOfPallets>
   <numberOfShipmentPieces>3</numberOfShipmentPieces>
   <onSiteContactName null="true"/>
   <onSiteContactPhoneNumber>918-995-2150</onSiteContactPhoneNumber>
   <originTerminalID>898</originTerminalID>
   <poisonIndicator>N</poisonIndicator>
   <poNumber null="true"/>
   <prepaidIndicator>Y</prepaidIndicator>
   <proNumber>7388151615</proNumber>
   <quoteID>99266877</quoteID>
   <serviceDate>2017-12-12</serviceDate>
   <shipmentComments null="true"/>
   <shipmentContactPhoneNumber null="true"/>
   <shipmentPieceType>PLT</shipmentPieceType>
   <signatureRequiredIndicator>Y</signatureRequiredIndicator>
   <specialInstructions null="true"/>
   <specialServiceDeliveryWindowStart>2017-12-11 23:00:00</specialServiceDeliveryWindowStart>
   <specialServiceDeliveryWindowEnd>2017-12-12 23:00:00</specialServiceDeliveryWindowEnd>
   <specialServicesIndicator>N</specialServicesIndicator>
   <stopClass null="true"/>
   <stopType null="true"/>
   <trailerLengthRestriction null="true"/>
   <weight>154</weight>
   <deliveryDate null="true"/>
   <shipper>
      <bizID>92301072600</bizID>
      <businessName>KONA MOUNTAIN BICYCLES</businessName>
      <city>FERNDALE</city>
      <contactName null="true"/>
      <countryCode null="true"/>
      <state>WA</state>
      <streetAddressLine1>2455 SALASHAN DR</streetAddressLine1>
      <streetAddressLine2 null="true"/>
      <zipcode>98248</zipcode>
   </shipper>
   <consignee>
      <bizID>76225389809</bizID>
      <businessName>CITY CYCLES</businessName>
      <city>JENKS</city>
      <contactName null="true"/>
      <countryCode null="true"/>
      <state>OK</state>
      <streetAddressLine1>109 E MAIN ST</streetAddressLine1>
      <streetAddressLine2 null="true"/>
      <zipcode>74037</zipcode>
   </consignee>
   <infoStatusList>
      <e>
         <propertyName>NMFC</propertyName>
         <propertyValue>18980003</propertyValue>
      </e>
      <e>
         <propertyName>DELIVERYCODES</propertyName>
         <propertyValue>STRA</propertyValue>
      </e>
      <e>
         <propertyName>SPECIALSERVICEINDICATOR</propertyName>
         <propertyValue>GDEL</propertyValue>
      </e>
   </infoStatusList>
   <appointmentStart null="true"/>
   <appointmentEnd null="true"/>
   <openTime null="true"/>
   <closedTime null="true"/>
   <codAmount null="true"/>
   <custLunchStart null="true"/>
   <custLunchEnd null="true"/>
   <skelIndicator>N</skelIndicator>
   <modifiedBy>LNE401</modifiedBy>
</Response>]]></con:originalMessage></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="shipmentKey" value="${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/SHIPMENT_KEY[1]}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:environmentSpec><con:entry environmentId="83e4deb1-38b8-4fd5-9177-2b5359a53f9f"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="QuintinqCustomerDeliveryDate" id="65d4fc57-fa6c-4764-a180-d92f6e477a7c" disabled="true"><con:settings/><con:config service="REST Service 2" resourcePath="/citypd/api/v1/shipment/" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="QuintinqCustomerDeliveryDate" id="284aa5fa-3ffc-4002-9aa3-5acaca493059" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://sb-sita.test.com</con:endpoint><con:request/><con:originalUri>http://sb-sita.test.com/citypd/api/v1/shipment/</con:originalUri><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="shipmentKey" value="${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/SHIPMENT_KEY[1]}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:environmentSpec><con:entry environmentId="83e4deb1-38b8-4fd5-9177-2b5359a53f9f"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="datasink" name="CustomerDeliveryDateTestResult" id="bef74a03-b271-419f-9c8c-f4ec64d07213"><con:settings/><con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSink type="Excel"><con:configuration><file>CustomerDesiredDeliveryDate.xlsx</file><outfile>CustomerDesiredDeliveryDate.xlsx</outfile><worksheet>Sheet1</worksheet><cell>A1</cell><evaluateFormulas>false</evaluateFormulas><append>false</append></con:configuration></con:dataSink><con:properties><con:property><con:name>ExcelPro</con:name><con:value>${SpreadSheet#PRO}</con:value></con:property><con:property><con:name>BDDRecordkey</con:name><con:value>${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/WGP_RECORD_KEY[1]}</con:value></con:property><con:property><con:name>LegacyRecordKey</con:name><con:value>${CustomerDeliveryDateLegacyDB#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/RECORD_KEY[1]}</con:value></con:property><con:property><con:name>M204RecordKey</con:name><con:value>${MIDAF-CustomerDeliveryDate#Response#//dataOutput[1]/record[1]/RECORD.KEY[1]}</con:value></con:property><con:property><con:name>BDDCustDlvyStartdate</con:name><con:value>${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUSTOMER_DESIRED_FROM_DLVY_TS[1]}</con:value></con:property><con:property><con:name>LegacyCustDlvyStartdate</con:name><con:value>${CustomerDeliveryDateLegacyDB#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUST_DELIVERY_START_TS[1]}</con:value></con:property><con:property><con:name>M204CustDlvyStartdate</con:name><con:value>${MIDAF-UTCConversion#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/MIDAFCUSTSTART[1]}</con:value></con:property><con:property><con:name>QuintiqCustDlvyStartdate</con:name><con:value>${Quintiq-CustDlvy#Response#$['specialServiceDeliveryWindowStart']}</con:value></con:property><con:property><con:name>BDDCustDlvyEnddate</con:name><con:value>${CustomerDeliveryDateBDD#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUSTOMER_DESIRED_TO_DLVY_TS[1]}</con:value></con:property><con:property><con:name>LegacyCustDlvyEnddate</con:name><con:value>${CustomerDeliveryDateLegacyDB#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/CUST_DELIVERY_END_TS[1]}</con:value></con:property><con:property><con:name>M204CustDlvyEnddate</con:name><con:value>${MIDAF-UTCConversion#ResponseAsXml#//Results[1]/ResultSet[2]/Row[1]/MIDAFCUSTEND[1]}</con:value></con:property><con:property><con:name>QuintiqCustDlvyEnddate</con:name><con:value>${Quintiq-CustDlvy#Response#$['specialServiceDeliveryWindowEnd']}</con:value></con:property><con:property><con:name>MiDAFStatus</con:name><con:value>${=testRunner.runTestStepByName("MIDAF-UTCConversion").getStatus()}</con:value></con:property><con:property><con:name>QuintiqStatus</con:name><con:value>${=testRunner.runTestStepByName("Quintiq-CustDlvy").getStatus()}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="datasourceloop" name="Iterate" id="05fd8ef6-6034-4875-bc6a-234fe46949a3"><con:settings/><con:config><dataSourceStep>SpreadSheet</dataSourceStep><targetStep>CustomerDeliveryDateLegacyDB</targetStep></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>e2647a03-5878-4581-ba77-eb9ca526a1b6</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>93b27b6a-1a91-4094-8270-7a525ae0b436</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>1139646b-1415-4998-b922-d41cef4533bd</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>aa63d93e-9b88-407b-b182-88d51080e5e4</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>45276b0f-130e-4213-a82e-abff48a6e182</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase>