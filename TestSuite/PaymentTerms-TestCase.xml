<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="8fe1ba8a-c5b2-4eac-b703-d87a8391112a" discardOkResults="false" failOnError="false" failTestCaseOnErrors="false" keepSession="false" name="PaymentTerms TestCase" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="1f5062ca-ee8f-4f3c-8805-e9bde3b2a17afileName">CosigneeDetails-TestCase</con:setting><con:setting id="8fe1ba8a-c5b2-4eac-b703-d87a8391112afileName">PaymentTerms-TestCase</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="restrequest" name="Authentication" id="65ee5403-86d7-4f7e-9196-ca488a94cb06"><con:settings/><con:config service="REST Service 5" resourcePath="/webapps/security-spa/api/security/authenticate" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Authentication" id="eb90dad0-674b-44b3-bf33-7a9456c529b9" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://javatest.test.com:4035</con:endpoint><con:request>username=test\dccBatch&amp;password=test</con:request><con:originalUri>https://javatest.test.com/webapps/security-spa/api/security/authenticate</con:originalUri><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/><con:environmentSpec><con:entry environmentId="83e4deb1-38b8-4fd5-9177-2b5359a53f9f"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="datasource" name="SpreadSheet" id="28c9a91b-266a-4f0c-bd6d-93ffdf2e0bfb"><con:settings/><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Excel"><con:configuration><file>${#Project#SpreadSheetPath}</file><worksheet>Main</worksheet><cell>A4</cell><ignoreEmpty>false</ignoreEmpty><evaluateFormulas>false</evaluateFormulas></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>PRO</con:property><con:property>Status</con:property><con:property>PU Date</con:property><con:property>Type</con:property><con:property>Origin</con:property><con:property>Trailer Scac</con:property><con:property>Trailer</con:property><con:property>Shipper- Name</con:property><con:property>Shipper- Str#</con:property><con:property>Shipper- Phone #</con:property><con:property>Shipper- Number</con:property><con:property>Shipper- Dir1</con:property><con:property>Shipper- Street</con:property><con:property>Shipper- Suf</con:property><con:property>Shipper- Dir2</con:property><con:property>Shipper- Unit</con:property><con:property>Shipper- Type</con:property><con:property>Shipper- City</con:property><con:property>Shipper- State</con:property><con:property>Shipper- Zip</con:property><con:property>Consignee- Name</con:property><con:property>Consignee- Str#</con:property><con:property>Consignee- Phone #</con:property><con:property>Consignee- C/O</con:property><con:property>Consignee- Show</con:property><con:property>Consignee- Booth#</con:property><con:property>Consignee- Number</con:property><con:property>Consignee- Dir1</con:property><con:property>Consignee- Street</con:property><con:property>Consignee- Suf</con:property><con:property>Consignee- Dir2</con:property><con:property>Consignee- Unit</con:property><con:property>Consignee- Type</con:property><con:property>Consignee- City</con:property><con:property>Consignee- State</con:property><con:property>Consignee- Zip</con:property><con:property>Terms</con:property><con:property>GSV</con:property><con:property>NTFY</con:property><con:property>HOMD</con:property><con:property>LFTD</con:property><con:property>ID</con:property><con:property>FAF</con:property><con:property>INTR</con:property><con:property>CBL</con:property><con:property>GBL</con:property><con:property>BOND</con:property><con:property>SIGN</con:property><con:property>QUOTEID</con:property><con:property>PROMO</con:property><con:property>ITEM#</con:property><con:property>G/D</con:property><con:property>REF1 #</con:property><con:property>Ref1 Type</con:property><con:property>Ref2 #</con:property><con:property>Ref2 Type</con:property><con:property>Third Party- Name</con:property><con:property>Third Party- C/O</con:property><con:property>Third Party- Role</con:property><con:property>Third Party- Number</con:property><con:property>Third Party- Dir1</con:property><con:property>Third Party- Street</con:property><con:property>Third Party- Suf</con:property><con:property>Third Party- Dir2</con:property><con:property>Third Party- Unit</con:property><con:property>Third Party- Type</con:property><con:property>Third Party- Store</con:property><con:property>Third Party- City</con:property><con:property>Third Party- State</con:property><con:property>Third Party- Zip</con:property><con:property>NITE</con:property><con:property>FOOD</con:property><con:property>H/U1</con:property><con:property>PKG1</con:property><con:property>WGT1</con:property><con:property>PCS1</con:property><con:property>UOM1</con:property><con:property>CL1</con:property><con:property>NMFC1</con:property><con:property>SUB1</con:property><con:property>CFT1</con:property><con:property>DENS1</con:property><con:property>DESCR1A</con:property><con:property>DESCR1B</con:property><con:property>H/U2</con:property><con:property>PKG2</con:property><con:property>WGT2</con:property><con:property>PCS2</con:property><con:property>UOM2</con:property><con:property>CL2</con:property><con:property>NMFC2</con:property><con:property>SUB2</con:property><con:property>CFT2</con:property><con:property>DENS2</con:property><con:property>DESCR2A</con:property><con:property>DESCR2B</con:property><con:property>H/U3</con:property><con:property>PKG3</con:property><con:property>WGT3</con:property><con:property>PCS3</con:property><con:property>UOM3</con:property><con:property>CL3</con:property><con:property>NMFC3</con:property><con:property>SUB3</con:property><con:property>CFT3</con:property><con:property>DENS3</con:property><con:property>DESCR3A</con:property><con:property>DESCR3B</con:property><con:property>STC/SLC</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="jdbc" name="PaymentTermsBDDDataBase" id="52b1057c-8280-4477-89aa-d0df690c208d"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName>BDD</con:dbConnectionName><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://Ywsqltest\ads;databaseName=OPS_SA;integratedSecurity= true</con:connectionString><con:password/><con:connectionProperties/><con:query>
select s.Shipment_KEY,[Freight_Term_Type_CD],Pro_NB from SHIP.Shipment s left outer join 
SHIP.Shipment_Customer_Role_VW scr  on  scr.Shipment_KEY = s.Shipment_KEY where s.Pro_NB='${SpreadSheet#PRO}' and Freight_term_Type_CD is not null</con:query><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="PaymentTermsLegacyDataBase" id="b2629233-7bf6-474c-acff-1d797a848c53"><con:settings><con:setting id="prettyPrintResponse">true</con:setting></con:settings><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dbConnectionName>Legacy</con:dbConnectionName><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://Ywsqltest\Legacy;databaseName=Legacy_SA;integratedSecurity= true</con:connectionString><con:password/><con:connectionProperties/><con:query>Select s.[SHP_PAY_TRMS],m.WGP_ID_NBR, m.WGP_SHP_TAG
From Legacy.M204_WGP m Left Outer Join
  Legacy.M204_BSR s On m.WGP_SHP_TAG = s.SHP_TAG 
Where m.WGP_ID_NBR = '${SpreadSheet#PRO}' and SHP_PAY_TRMS is not null</con:query><con:assertion type="MessageContentAssertion" id="d528eadd-8b02-4908-a6c3-f62b079b0818" name="BDD-Legacy-Assertion"><con:configuration xsi:type="con:MessageContentAssertion"><con:elements><con:xpath>//Results[1]/ResultSet[1]/Row[1]/SHP_PAY_TRMS[1]</con:xpath><con:element>SHP_PAY_TRMS</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>${PaymentTermsBDDDataBase#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/FREIGHT_TERM_TYPE_CD[1]}</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<Results>
   <ResultSet fetchSize="128">
      <Row rowNumber="1">
         <SHP_PAY_TRMS>P</SHP_PAY_TRMS>
         <WGP_ID_NBR>1388045730</WGP_ID_NBR>
         <WGP_SHP_TAG>2SHP1801091303044074</WGP_SHP_TAG>
      </Row>
   </ResultSet>
</Results>]]></con:originalMessage></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="request" id="f5c98ccb-d600-4066-bed5-7974549de11f" name="MIDAF - PaymentTerms"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>wsdl_getPackageInfo_Binder</con:interface><con:operation>MIDAF</con:operation><con:request name="MIDAF - PaymentTerms" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="eab69d0a-87fd-445d-a369-5015b176ba20"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://satest-trust.ago.test.com/ida900?prmUser=CRMUSER</con:endpoint><con:request><![CDATA[<dataInput>
  <hdr>
    <programId>IDA200.XML</programId>
    <Form>1</Form>
    <fgInd>g</fgInd>
    <file>BSR</file>
    <action>retrieval</action>
    <subAction>none</subAction>
  </hdr>
  <selection>
    <field>
      <name>SHP.TAG</name>
    <value>${PaymentTermsLegacyDataBase#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/WGP_SHP_TAG[1]}</value>
      <operator>EQ</operator>
    </field>
       <field>
      <name>SHP.BUS.ROLE</name>
      <value>V</value>
      <operator>EQ</operator>
    </field>
  </selection>
</dataInput>]]></con:request><con:assertion type="MessageContentAssertion" id="1204e3ac-bc42-4cb1-82ac-22107459247d" name="M204-BDD-Assertion"><con:configuration xsi:type="con:MessageContentAssertion"><con:elements><con:xpath>//dataOutput[1]/record[1]/SHP.PAY.TRMS[1]</con:xpath><con:element>SHP.PAY.TRMS</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>${PaymentTermsBDDDataBase#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/FREIGHT_TERM_TYPE_CD[1]}</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<dataOutput>
   <hdr>
      <returnCode>0000</returnCode>
      <returnText>Done</returnText>
      <recordCount>1</recordCount>
   </hdr>
   <record>
      <CREATE.DATE>20180109</CREATE.DATE>
      <SHP.BUS.TAG>90164330529</SHP.BUS.TAG>
      <SHP.TAG>2SHP1801091303044074</SHP.TAG>
      <SHP.BUS.ROLE>V</SHP.BUS.ROLE>
      <SHP.BUS.TYPE>INVC</SHP.BUS.TYPE>
      <SHP.NM.RPRTD>DESIGN MATERIALS</SHP.NM.RPRTD>
      <SHP.ADDR.RPRTD encoding="base64">8vTxJeIl9fXjyCXi4yUlJSU=</SHP.ADDR.RPRTD>
      <SHP.STREET.RPRTD>241 S 55TH ST</SHP.STREET.RPRTD>
      <SHP.CITY.RPRTD>KANSAS CITY</SHP.CITY.RPRTD>
      <SHP.ST.ABBR.RPRTD>KS</SHP.ST.ABBR.RPRTD>
      <SHP.ZIP.RPRTD>66106</SHP.ZIP.RPRTD>
      <SHP.CTRY.RPRTD>USA</SHP.CTRY.RPRTD>
      <SHP.RLTD.BUS.ROLE>T</SHP.RLTD.BUS.ROLE>
      <SHP.PAY.TRMS>P</SHP.PAY.TRMS>
      <SHP.DATA.SOURCE.IND>F</SHP.DATA.SOURCE.IND>
      <DTS.DTTMSP>20180109130305031</DTS.DTTMSP>
      <RECORD.KEY>201801091303050310171165300050</RECORD.KEY>
   </record>
</dataOutput>]]></con:originalMessage></con:configuration></con:assertion><con:assertion type="MessageContentAssertion" id="b022e41b-c540-481d-af5c-887846971a18" name="M204-Legacy-Assertion"><con:configuration xsi:type="con:MessageContentAssertion"><con:elements><con:xpath>//dataOutput[1]/record[1]/SHP.PAY.TRMS[1]</con:xpath><con:element>SHP.PAY.TRMS</con:element><con:type xsi:nil="true"/><con:operator>=</con:operator><con:enabled>true</con:enabled><con:expectedValue>${PaymentTermsLegacyDataBase#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/SHP_PAY_TRMS[1]}</con:expectedValue><con:hasValue>false</con:hasValue><con:numberType>false</con:numberType></con:elements><con:originalMessage><![CDATA[<dataOutput>
   <hdr>
      <returnCode>0000</returnCode>
      <returnText>Done</returnText>
      <recordCount>1</recordCount>
   </hdr>
   <record>
      <CREATE.DATE>20180109</CREATE.DATE>
      <SHP.BUS.TAG>90164330529</SHP.BUS.TAG>
      <SHP.TAG>2SHP1801091303044074</SHP.TAG>
      <SHP.BUS.ROLE>V</SHP.BUS.ROLE>
      <SHP.BUS.TYPE>INVC</SHP.BUS.TYPE>
      <SHP.NM.RPRTD>DESIGN MATERIALS</SHP.NM.RPRTD>
      <SHP.ADDR.RPRTD encoding="base64">8vTxJeIl9fXjyCXi4yUlJSU=</SHP.ADDR.RPRTD>
      <SHP.STREET.RPRTD>241 S 55TH ST</SHP.STREET.RPRTD>
      <SHP.CITY.RPRTD>KANSAS CITY</SHP.CITY.RPRTD>
      <SHP.ST.ABBR.RPRTD>KS</SHP.ST.ABBR.RPRTD>
      <SHP.ZIP.RPRTD>66106</SHP.ZIP.RPRTD>
      <SHP.CTRY.RPRTD>USA</SHP.CTRY.RPRTD>
      <SHP.RLTD.BUS.ROLE>T</SHP.RLTD.BUS.ROLE>
      <SHP.PAY.TRMS>P</SHP.PAY.TRMS>
      <SHP.DATA.SOURCE.IND>F</SHP.DATA.SOURCE.IND>
      <DTS.DTTMSP>20180109130305031</DTS.DTTMSP>
      <RECORD.KEY>201801091303050310171165300050</RECORD.KEY>
   </record>
</dataOutput>]]></con:originalMessage></con:configuration></con:assertion><con:credentials><con:username/><con:password/><con:domain/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="wsdl_getPackageInfo_Binder_getPackageVersions"/><con:wsrmConfig version="1.2"/><con:environmentSpec><con:entry environmentId="b587604f-2390-4e76-9383-bb8f6f17a944"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="83e4deb1-38b8-4fd5-9177-2b5359a53f9f"><con:authProfile>No Authorization</con:authProfile></con:entry><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:request></con:config></con:testStep><con:testStep type="restrequest" name="Quintiq-PaymentTerms" id="f3bcdb1b-3897-4a11-a126-dd09496a8cc6"><con:settings/><con:config service="REST Service 6" resourcePath="/webapps/citypd-spa/api/v1/shipment" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Quintiq-PaymentTerms" id="bea16df4-5907-422a-b2a7-edbfed68a3c6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-authorization" value="YRC ${Authentication#HarResponse#$['content']['text']}" xmlns="http://eviware.com/soapui/config"/></con:setting><con:setting id="com.eviware.soapui.settings.CommonSettings@entitizeProperties">false</con:setting><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@strip-whitespaces">true</con:setting></con:settings><con:endpoint>https://spasita.test.com</con:endpoint><con:request/><con:originalUri>https://spasita.test.com/webapps/citypd-spa/api/v1/shipment</con:originalUri><con:credentials><con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="shipmentKey" value="${PaymentTermsBDDDataBase#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/SHIPMENT_KEY[1]}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:environmentSpec><con:entry environmentId="83e4deb1-38b8-4fd5-9177-2b5359a53f9f"><con:authProfile>Inherit From Parent</con:authProfile></con:entry><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:restRequest></con:config></con:testStep><con:testStep type="datasink" name="PaymentTermsTestResult" id="781789e3-82a5-47fd-a9d1-3ecc711ce00d"><con:settings/><con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSink type="Excel"><con:configuration><file>${#TestCase#PaymentTermsResults}</file><outfile>${#TestCase#PaymentTermsResults}</outfile><worksheet>Sheet1</worksheet><cell>A2</cell><evaluateFormulas>false</evaluateFormulas><append>false</append></con:configuration></con:dataSink><con:properties><con:property><con:name>ExcelPro</con:name><con:value>${SpreadSheet#PRO}</con:value></con:property><con:property><con:name>BDDPaymentTerms</con:name><con:value>${PaymentTermsBDDDataBase#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/FREIGHT_TERM_TYPE_CD[1]}</con:value></con:property><con:property><con:name>LegacyPaymentTerms</con:name><con:value>${PaymentTermsLegacyDataBase#ResponseAsXml#//Results[1]/ResultSet[1]/Row[1]/SHP_PAY_TRMS[1]}</con:value></con:property><con:property><con:name>M204PaymentTerms</con:name><con:value>${MIDAF - PaymentTerms#Response#//dataOutput[1]/record[1]/SHP.PAY.TRMS[1]}</con:value></con:property><con:property><con:name>MiDAFStatus</con:name><con:value>${=testRunner.runTestStepByName("MIDAF - PaymentTerms").getStatus()}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="datasourceloop" name="Iterate" id="65102c98-f7c5-48ad-b23f-6107c8884d57"><con:settings/><con:config><dataSourceStep>SpreadSheet</dataSourceStep><targetStep>PaymentTermsBDDDataBase</targetStep></con:config></con:testStep><con:properties><con:property><con:name>PaymentTermsResults</con:name><con:value>D:\test\ROS-ReadyApi\TestResults\PaymentTermsTestResultMaster.xlsx</con:value></con:property></con:properties><con:reportParameters/><con:breakPoints><con:testStepId>1a14b1ae-55c3-4a3d-b0b0-5290e8e215b6</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>959999ad-29ee-46c7-b0f7-ee16c69d6685</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b3994049-d969-4e1c-a110-8500bf01c178</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>c87a5892-0620-4d01-a39e-1ebdc602c9b1</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:environmentSpec><con:entry environmentId="6922de35-ae07-4611-8444-4f3641e453ae"><con:authProfile>Inherit From Parent</con:authProfile></con:entry></con:environmentSpec></con:testCase>